<!doctype html>
<html lang="es-MX">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Integradora</title>
    <link rel="stylesheet" href="../resources/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
</head>
<header>
    <nav class="navbar navbar-expand-lg bg-success" style="background-color:  rgb(127, 255, 127);">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">Navbar</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="../index.html">Inicio</a>  
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Arturo páginas
                </a>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="#">1</a></li>
                  <li><a class="dropdown-item" href="#">2</a></li>
                </ul>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Renteria páginas
                </a>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="#">1</a></li>
                  <li><a class="dropdown-item" href="#">2</a></li>
                </ul>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Cristobal páginas
                </a>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="Pagina 1.html">1</a></li>
                  <li><a class="dropdown-item" href="Pagina 2.html">2</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </nav>
</header>
<body>
  <div class="container-fluid " >
    <div class="col-12 col-sm-12 col-md-10 col-lg-10 col-xl-10 position-relative top-0 start-50 translate-middle-x p-2 mt-2" style="background-color: rgb(127, 255, 127);">
        <p class="display-6 text-center fw-bold">IPs</p>
    </div>
    <form class="form-control col-10" id="form1">
    <div class="col-12 col-sm-12 col-md-10 col-lg-10 col-xl-10 position-relative top-0 start-50 translate-middle-x p-2 mt-2" style="background-color: rgb(127, 255, 127);">
      <div class="row">
        <div>
          <label for="exampleFormControlInput1" class="form-label">IP</label>
        </div>
        <div class="col-1">
          <input type="number" class="form-control" id="octeto1" min="0"  max="255"  required placeholder="192" >  
        </div>
        <div class="col-1">
          <input type="number" class="form-control" id="octeto2" placeholder="168" min="0"  max="255"  required>  
        </div>
        <div class="col-1">
          <input type="number" class="form-control" id="octeto3" placeholder="1" min="0"  max="255"  required>  
        </div>
        <div class="col-1">
          <input type="number" class="form-control" id="octeto4" placeholder="100" min="0"  max="255"  required>  
        </div>
        <div class="col-1">
          <select class="form-select" aria-label="Default select example" id="messi" required>
            <option value="1">/1</option>
            <option value="2">/2</option>
            <option value="3">/3</option>
            <option value="4">/4</option>
            <option value="5">/5</option>
            <option value="6">/6</option>
            <option value="7">/7</option>
            <option value="8">/8</option>
            <option value="9">/9</option>
            <option value="10">/10</option>
            <option value="11">/11</option>
            <option value="12">/12</option>
            <option value="13">/13</option>
            <option value="14">/14</option>
            <option value="15">/15</option>
            <option value="16">/16</option>
            <option value="17">/17</option>
            <option value="18">/18</option>
            <option value="19">/19</option>
            <option value="20">/20</option>
            <option value="21">/21</option>
            <option value="22">/22</option>
            <option value="23">/23</option>
            <option value="24">/24</option>
            <option value="25">/25</option>
            <option value="26">/26</option>
            <option value="27">/27</option>
            <option value="28">/28</option>
            <option value="29">/29</option>
            <option value="30">/30</option>
          </select>
        </div>
        <div class="col-2">
          <button type="button"  class="btn btn-success" onclick="f1()">Enviar</button>
        </div>
        <div class="col-2" id="cr7">
          
        </div>
      </div>
      
    </div>
    </form>
    
</body>
<script src="../resources/js/bootstrap.bundle.min.js"></script>
<script>
    function f1() {
      // Obtener los valores de los inputs 
      octeto1 = document.getElementById("octeto1").value
      octeto2 = document.getElementById("octeto2").value
      octeto3 = document.getElementById("octeto3").value
      octeto4 = document.getElementById("octeto4").value
      // Validar si los campos están vacíos o incorrectos 
      if ((octeto1 === "" || octeto2 === "" || octeto3 === "" || octeto4 === "" ) || (octeto1 < 0 || octeto1 > 255) || (octeto2 < 0 || octeto2 > 255) || (octeto3 < 0 || octeto3 > 255) || (octeto4 < 0 || octeto4 > 255)) { 
        alert("Por favor, completa todos los campos correctamente."); 
        event.preventDefault(); // Evita que el formulario se envíe 
        return false; // Evita que la función se ejecute 
        } 
        // Si todo está correcto, la función se puede ejecutar 
        recabarDatos();
      };   

   function recabarDatos(){

      octeto1 = document.getElementById("octeto1").value
      octeto2 = document.getElementById("octeto2").value
      octeto3 = document.getElementById("octeto3").value
      octeto4 = document.getElementById("octeto4").value
      mascara = document.getElementById("messi").value
      octeto1= parseInt(octeto1,10)
      octeto1= octeto1.toString(2)
      octeto2= parseInt(octeto2,10)
      octeto2= octeto2.toString(2)
      octeto3= parseInt(octeto3,10)
      octeto3= octeto3.toString(2)
      octeto4= parseInt(octeto4,10)
      octeto4= octeto4.toString(2)
      ip = ""
      let miArreglo = [octeto1,octeto2,octeto3,octeto4]
      //unir octetos
      for (let i = 0; i < 4; i++) { 
        bits= ""
        cont= miArreglo[i].length
        bin_f= 8-cont;
        for(let i = 0; i< bin_f; i++){
            bits= "0"+bits
        }
        miArreglo[i]= bits+miArreglo[i]
        ip= ip+miArreglo[i]
      }
      parte_host = ip.substring(mascara);
      bc = Math.pow(2, (32- parseInt(mascara)))-1
      clasificar = parseInt(parte_host, 2);
      const nuevoElemento = document.createElement('p'); 
      contenedor = document.getElementById('cr7');
      contenedor.innerHTML= "";
      if(clasificar == 0){
       
        nuevoElemento.textContent = 'IP de Red.'; 
        
      }else if(clasificar== bc){
        nuevoElemento.textContent = 'IP de Broadcast.'; 
      }else{
        nuevoElemento.textContent = 'IP de Host.'; 
      }
      nuevoElemento.className = "fw-bold"
      
      contenedor.appendChild(nuevoElemento);
   }
</script>
</html>